<!DOCTYPE html>
<html lang="ch">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Bootstrap CSS -->
    <link href="/bootstrap-4.5.0-dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- jQuery -->
    <script src="/js/jquery-3.4.1.js"></script>
    <title>增删改查</title>

</head>

<body>
    <!-- 按钮 -->
    <button class="but" id="btnAdd">添加</button>
    <button class="but" id="btnDel">删除</button>
    <button class="but" id="btnRen">更改</button>
    <button class="but" id="btnChe">查看</button>
    <!-- 列表 -->
    <div>
        <table class="table table-bordered table-hover table-striped">
            <thead>
                <tr class="thead-dark">
                    <th scope="col"><input type="checkbox" name="全选" id="btnAll"></th>
                    <th scope="col">姓名</th>
                    <th scope="col">年龄</th>
                    <th scope="col">性别</th>
                    <th scope="col">出生日期</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td scope="row"><input type="checkbox" name="checkbox" class="btn"></td>
                    <td>Mark</td>
                    <td>18</td>
                    <td>男</td>
                    <td>2025.14.32</td>
                </tr>
                <tr>
                    <td scope="row"><input type="checkbox" name="checkbox" class="btn"></td>
                    <td>Jacob</td>
                    <td>18</td>
                    <td>男</td>
                    <td>2025.14.32</td>
                </tr>
                <tr>
                    <td scope="row"><input type="checkbox" name="checkbox" class="btn"></td>
                    <td>Larry</td>
                    <td>18</td>
                    <td>男</td>
                    <td>2025.14.32</td>
                </tr>
            </tbody>
        </table>
    </div>
    <!-- 列表结束 -->
</body>

</html>

<script>
    $(function() {
        // 全选
        $("#btnAll").click(function() {
            if (this.checked) {

                $.each($(".btn"), function(i, v) {
                    v.checked = true;
                })

            } else {
                $.each($(".btn"), function(i, v) {

                    v.checked = false;

                })
            }

        })
        $("tbody .btn").click(function(e) {
                //true
                console.log($(".btn:checked").length);
                //fales
                console.log($(".btn:not(checked)").length);

                console.log($(".btn").length);

                var tru = $(".btn:checked").length;
                var fal = $(".btn:not(checked)").length;
                var leng = $(".btn").length;

                if (tru == leng) {
                    let bt = document.querySelector("#btnAll")
                    bt.checked = true;

                } else if (fal == leng) {
                    let bt = document.querySelector("#btnAll")
                    bt.checked = false;

                }
            })
            //增加
        $("#btnAdd").click(function(e) {
            let input = "<tr> <td scope = 'row'> <input type = 'checkbox' name = 'checkbox' class = 'btn'>";
            let td = "</td> <td> Larry </td> <td> 18 </td> <td> 男 </td> <td> 2025.14 .32 </td>";
            let tr = "</tr>";
            // var i = document.querySelector("tbody");
            // console.log(i)
            $("tbody").append(input + td + tr)

        })




    })
</script>