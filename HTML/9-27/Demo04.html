<!DOCTYPE html>
<html lang="zh-cn">

	<head>
		<meta charset="UTF-8">

		<title>购物车</title>
		<style>
			* {
				margin: 0;
				padding: 0;
			}
			
			td {
				width: 100px;
			}
			
			#nu {
				width: 20px;
				height: 15px;
			}
			
			#add {
				width: 15px;
				height: 20px;
			}
			
			#jian {
				width: 15px;
				height: 20px;
			}
			
			#m1,
			#m2 {
				border: 1px #000000 solid;
			}
			
			#div1 {
				float: right;
			}
			
			#div2 {
				float: left;
			}
		</style>
	</head>

	<body>
		<div id="div1">
			<table id="m1">
				<thead>
					<tr>
						<td><input type="checkbox" name="checkbox" id="btnAll">全选</input>
						</td>
						<td>商品</td>
						<td>单价</td>
						<td>操作</td>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td><input type="checkbox" name="checkbox" id="btn"></input>
						</td>
						<td class="name">小米笔记本</td>
						<td class="money">5600</td>
						<td><button id="jiaRu" onclick="jiaRu(this)">加入购物车</button>
						</td>
					</tr>
					<tr>
						<td><input type="checkbox" name="checkbox" id="btn"></input>
						</td>
						<td class="name">联想笔记本</td>
						<td class="moeny">15000</td>
						<td><button id="jiaRu" onclick="jiaRu(this)">加入购物车</button>
						</td>
					</tr>
					<tr>
						<td><input type="checkbox" name="checkbox" id="btn"></input>
						</td>
						<td class="name">华为笔记本</td>
						<td class="moeny">2500</td>
						<td><button id="jiaRu" onclick="jiaRu(this)">加入购物车</button>
						</td>
					</tr>
				</tbody>
			</table>
		</div>

		<div id="div2">
			<table id="m2">
				<thead>
					<tr>
						<td><input type="checkbox" name="checkbox" id="btnAll">全选</input>
						</td>
						<td>商品</td>
						<td>单价</td>
						<td>数量</td>
						<td>小计</td>
						<td>操作</td>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td><input type="checkbox" name="checkbox" id="btn"></input>
						</td>
						<td>笔记本</td>
						<td>5600</td>
						<td> <button id="jian">-</button>
							<input type="text" value="1" name="number" id="nu">
							<button id="add" onclick="add()">+</button></td>
						<td></td>
						<td><button id="del" onclick="del(this)">删除</button></td>
					</tr>
				</tbody>
			</table>
		</div> 

	</body>

</html>
<script>
	var btns = document.querySelectorAll('#btn');
	var m2 = document.getElementById("m2");
	 var  btnAll=document.querySelector('#btnAll')
btnAll.onclick = function(){
	if (this.checked) {
		for (let i = 0; i < btns.length; i++) {
			console.log(btns[i])
			btns[i]=this.checked;
		}
	} else{
		
	}
	
	
	
	
	
}

	//添加表格的行
	function jiaRu(obj) {
		let  tr=obj.parentNode.parentNode;
		console.log(obj.parentNode.parentNode)
		for (var i = 0; i < tr.length; i++) {
			console.log(tr[i])
		}
		
		let name = document.querySelector(" tr .name").innerText;
		let moeny = document.querySelector("tr .moeny").innerText;
		console.log(name + "," + moeny);

		let newtr = m2.insertRow(m2.rows.length); //创建一行，返回的对象是tablerow
		let cell0 = newtr.insertCell(0);
		let cell1 = newtr.insertCell(1); //创建一个单元格，返回对象是tablecell
		let cell2 = newtr.insertCell(2);
		let cell3 = newtr.insertCell(3);
		let cell4 = newtr.insertCell(4);
		let cell5 = newtr.insertCell(5);
		cell0.innerHTML = "<input type='checkbox' "+"name='checkbox' "+"id='btn'></input>";
		cell1.innerHTML = name;
		cell2.innerHTML = moeny;
		cell3.innerHTML = "<button id='jian'>-</button>"+
							"<input type='text' value='1' name='number' id='nu'>"+
							"<button id='add' onclick='add()'>+</button>";
		cell4.innerHTML = "";
		cell5.innerHTML ="<button id='del' onclick='del(this)'>删除</button>" ;
	};
	//删除购物车里的订单
	function del(btn) {
		
				let dels=document.querySelectorAll("#del");
			
		for(i=0;i<dels.length;i++){
			if(btn==dels[i]){
			m2.deleteRow(i+1);
			}
		}
	}

	document.querySelector('#btnAll').onclick = function() {
		if(this.checked) {
			for(let index = 0; index < btns.length; index++) {
				btns[index] = this.checked;
			}

		} else {
			for(let index = 0; index < btns.length; index++) {
				btns[index] = false;
			}

		}
	}
	function add() {
		document.querySelector('#nu') = (document.querySelector('#nu').value + 1);
	}
</script>